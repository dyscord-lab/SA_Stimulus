rename(start = V1,
end = V2,
t = V3) %>%
# gather to two columns (state and time)
tidyr::gather(key="event",
value = "t") %>%
# round time to nearest tenth of a second
mutate(t = round(t, 1)) %>%
distinct() %>%
arrange(t) %>%
# specify that we're only dealing with sound-on
mutate(state = dplyr::if_else(event=="start",
1,
2))
# create a list of all possible times
all_times = data.frame(t = seq(from=0,
to=max(sound_interv$t),
by=.1))
x = full_join(all_times,
sound_interv,
by='t')
for (i in 1:nrow(x)){
if (x$state[i] > 0 && x$state[i + 1] > 0){
x$state[i + 1] <- 1
}
}
if (x$state[i] > 0 && x$state[i + 1] != 2){
x$state[i + 1] <- 1
}
if (x$state[i] = 1 && x$state[i + 1] != 2){
x$state[i + 1] <- 1
}
if (x$state[i] == 1 && x$state[i + 1] != 2){
x$state[i + 1] <- 1
}
x$state[i] == 1 && x$state[i + 1] != 2
rs
for (i in 1:(nrow(x)-1)){
if (x$state[i] == 1 && x$state[i + 1] != 2){
x$state[i + 1] <- 1
}
}
x$state[i]
i
is.na(x$state) <- 99
is.na(x$state) <- 99
is.na(x$state)
x(is.na(x$state) <- 99
x(is.na(x$state)) <- 99
x(is.na(x$state)) <- 99
x[is.na(x$state)] <- 99
x$state[is.na(x$state)] <- 99
for (i in 1:(nrow(x)-1)){
if (x$state[i] == 1 && x$state[i + 1] != 2){
x$state[i + 1] <- 1
}
}
# read in sound data
sound_interv = read.table('~/Desktop/wednesday/sound_interval.txt',
sep="\t") %>%
# rename variables as needed
rename(start = V1,
end = V2,
t = V3) %>%
# gather to two columns (state and time)
tidyr::gather(key="event",
value = "t") %>%
# round time to nearest tenth of a second
mutate(t = round(t, 1)) %>%
distinct() %>%
arrange(t) %>%
# specify that we're only dealing with sound-on
mutate(state = dplyr::if_else(event=="start",
1,
2))
# create a list of all possible times
all_times = data.frame(t = seq(from=0,
to=max(sound_interv$t),
by=.1))
x = full_join(all_times,
sound_interv,
by='t')
x$state[is.na(x$state)] <- 99
for (i in 1:(nrow(x)-1)){
if (x$state[i] == 1 && x$state[i + 1] != 2){
x$state[i + 1] <- 1
}
}
write.csv(x,'x')
write.csv(x,'x.csv')
# reading in image names
setwd("./stimulus/pictures/stimuli")
image_list <- list.files()
# reading in QR code names
setwd("../QR_codes")
qr_list <- list.files()
# adding image names to  csv
stimuli <- data.frame(image_list, stringsAsFactors = FALSE)
names(stimuli) <- c("image")
# filling top right corner with marker 1
stimuli$rightup <- rep("marker_01.png",nrow(stimuli))
# filling top left corner half with marker 2 and half with 3
stimuli$leftup <- rep("marker_02.png",nrow(stimuli))
stimuli$leftup[30:58] <- "marker_03.png"
# filling lower right corner - further  distinguishing with markers 4 & 5
stimuli$rightdown <- rep("marker_04.png", nrow(stimuli))
stimuli$rightdown[15:29] <- "marker_05.png"
stimuli$rightdown[44:58] <- "marker_05.png"
# filling lower left corner by cycling through unused markers
stimuli$leftdown <- rep("marker_06.png", nrow(stimuli))
stimuli$leftdown[1:14] <- qr_list[7:20]
stimuli$leftdown[15:29] <- qr_list[7:21]
stimuli$leftdown[30:43] <- qr_list[7:20]
stimuli$leftdown[44:58] <- qr_list[7:21]
# reading in image names
setwd("./stimulus/pictures/stimuli")
setwd("./Documents")
setwd("./github")
# reading in image names
setwd("./stimulus/pictures/stimuli")
image_list <- list.files()
# reading in QR code names
setwd("../QR_codes")
qr_list <- list.files()
# adding image names to  csv
stimuli <- data.frame(image_list, stringsAsFactors = FALSE)
names(stimuli) <- c("image")
# filling top right corner with marker 1
stimuli$rightup <- rep("marker_01.png",nrow(stimuli))
# filling top left corner half with marker 2 and half with 3
stimuli$leftup <- rep("marker_02.png",nrow(stimuli))
stimuli$leftup[30:58] <- "marker_03.png"
# filling lower right corner - further  distinguishing with markers 4 & 5
stimuli$rightdown <- rep("marker_04.png", nrow(stimuli))
stimuli$rightdown[15:29] <- "marker_05.png"
stimuli$rightdown[44:58] <- "marker_05.png"
# filling lower left corner by cycling through unused markers
stimuli$leftdown <- rep("marker_06.png", nrow(stimuli))
stimuli$leftdown[1:14] <- qr_list[7:20]
stimuli$leftdown[15:29] <- qr_list[7:21]
stimuli$leftdown[30:43] <- qr_list[7:20]
stimuli$leftdown[44:58] <- qr_list[7:21]
install.packages(c("png", "jpeg", "grid", "gridExtra", "ggplot2"))
Packages <- c("png", "jpeg", "grid", "gridExtra", "ggplot2")
lapply(Packages, library, character.only = TRUE)
RUname <- stimuli[1, 2]
LUname  <- stimuli[1, 3]
RDname <- stimuli[1, 4]
LDname <- stimuli[1, 5]
# reading in blank image
blank <- readPNG('../blank.png')
imagename <- stimuli[1, 1] # also will be stimuli[i,1] in the loop
setwd("../stimuli")
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
ggsave(file = paste0(mypath, "image_", ".png"), g) # will have "image_", i, ".png" here to have unique file names
mypath <- "../final_images/"
ggsave(file = paste0(mypath, "image_", ".png"), g) # will have "image_", i, ".png" here to have unique file names
dev.off()
setwd("../")
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", ".png"), g) # will have "image_", i, ".png" here to have unique file names
# reading in image names
setwd("./stimulus/pictures/stimuli")
setwd("./pictures/")
setwd("./stimuli/")
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", ".png"), g) # will have "image_", i, ".png" here to have unique file names
setwd("./pictures/")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", ".png"), g) # will have "image_", i, ".png" here to have unique file names
dev.off()
# loop for image generation
for (i in 1:58){
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
setwd("../stimuli")
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
}
setwd("./stimuli/")
setwd("../")
setwd("./QR_codes")
# loop for image generation
for (i in 1:58){
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
setwd("../stimuli")
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
}
# loop for image generation
for (i in 1:58){
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
setwd("../stimuli")
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
}
setwd("./QR_codes")
# loop for image generation
for (i in 1:58){
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
setwd("../stimuli")
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
}
setwd("../stimuli")
setwd("./stimuli")
# loop for image generation
for (i in 1:58){
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
setwd("../stimuli")
}
# loop for image generation
for (i in 1:58){
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
setwd("./stimuli")
}
setwd("../stimuli")
setwd("./stimuli")
# loop for image generation
for (i in 1:58){
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
setwd("./stimuli")
}
setwd("./stimuli/")
# loop for image generation
for (i in 1:58){
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
setwd("./stimuli/")
}
i
# loop for image generation
for (i in 1:58){
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
setwd("./stimuli/")
i
}
setwd("./stimuli/")
# loop for image generation
for (i in 1:58){
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
setwd("./stimuli/")
i
}
setwd("./stimuli/")
# loop for image generation
for (i in 1:58) {
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
setwd("./stimuli/")
}
setwd("./stimuli/")
# loop for image generation
for (i in 1:58) {
# identifying NAMES of unique QR markers (here will be [i, 1], [i, 2],... in the loop)
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
setwd("../stimuli/")
}
setwd("./stimuli/")
# loop for image generation
for (i in 1:58) {
# identifying NAMES of unique QR markers
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
dev.off()
setwd("./stimuli/")
}
setwd("./stimuli/")
# loop for image generation
for (i in 1:58) {
# identifying NAMES of unique QR markers
RUname <- stimuli[i, 2]
LUname  <- stimuli[i, 3]
RDname <- stimuli[i, 4]
LDname <- stimuli[i, 5]
#reading in stimuli image
imagename <- stimuli[i, 1] # also will be stimuli[i,1] in the loop
image <- readJPEG(imagename)
# creating grid image, READING the QR PNG images at the same time
setwd("../QR_codes")
g <- arrangeGrob(rasterGrob(readPNG(RUname)), rasterGrob(blank), rasterGrob(readPNG(LUname)),
rasterGrob(blank), rasterGrob(image), rasterGrob(blank),
rasterGrob(readPNG(RDname)), rasterGrob(blank), rasterGrob(readPNG(LDname)),
ncol=3, widths = c(.5,5,.5), heights = c(.5,2,.5))
setwd("../")
mypath <- "../images/"
ggsave(file = paste0(mypath, "image_", i, ".png"), g) # "image_i.png" to have unique file names
#dev.off()
setwd("./stimuli/")
}
